/// mAfrica OraQuick Server
//  Author: Steven Gray
//  Email:  steven.gray@ucl.ac.uk
//  Date:  08/08/18
//  Version: 1.0.2

var serverPort = 8888;

var app = require('http').createServer(handler)
  , io = require('socket.io').listen(app)
  , fs = require('fs')
  
function handler (req, res) {
  	fs.readFile(__dirname + '/index.html',
  	function (err, data) {
	    if (err) {
	      res.writeHead(500);
	      return res.end('Error loading index.html');
	    }

	    res.writeHead(200);
	    res.end(data);
  	});
}

console.log("mAfrica OraQuick Server is now listening for connections on port "+ serverPort +".");  
app.listen(serverPort);

require('dns').lookup(require('os').hostname(), function (err, add, fam) {
  console.log("Server Address: " + add + "\tPort: " + serverPort);
})

io.sockets.on('connection', function (socket) {
  
  console.log("Client Connected");

  socket.on('positive', function (data) {
    console.log("Positive Recieved");
    io.sockets.emit('pos');
  });

  socket.on('negative', function (data) {
    console.log("Negative Recieved");
    io.sockets.emit('neg');
  });

  socket.on('invalid', function(data){
    console.log("Unknown Recieved");
    io.sockets.emit('inval');
  });

  socket.on('retake_photo', function (data) {
    console.log("Retake Photo Recieved");
    io.sockets.emit('retake');
  });

  socket.on('tabletPing', function(data) {
	   io.sockets.emit('tabletPong', JSON.stringify({"status": "pong"}) );
  });

  socket.on('tabletReadyProcessing', function(data) {
     io.sockets.emit('tabletIsReadyForProcessing', JSON.stringify({"status": "ready"}) );
  });

  socket.on('tabletImage', function (data) {
    console.log("Photo Recieved");
    if(data == undefined || data == ""){
      var test = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAnEAAAGhCAIAAACBOXXdAAABN2lDQ1BBZG9iZSBSR0IgKDE5OTgpAAAokZWPv0rDUBSHvxtFxaFWCOLgcCdRUGzVwYxJW4ogWKtDkq1JQ5ViEm6uf/oQjm4dXNx9AidHwUHxCXwDxamDQ4QMBYvf9J3fORzOAaNi152GUYbzWKt205Gu58vZF2aYAoBOmKV2q3UAECdxxBjf7wiA10277jTG+38yH6ZKAyNguxtlIYgK0L/SqQYxBMygn2oQD4CpTto1EE9AqZf7G1AKcv8ASsr1fBBfgNlzPR+MOcAMcl8BTB1da4Bakg7UWe9Uy6plWdLuJkEkjweZjs4zuR+HiUoT1dFRF8jvA2AxH2w3HblWtay99X/+PRHX82Vun0cIQCw9F1lBeKEuf1UYO5PrYsdwGQ7vYXpUZLs3cLcBC7dFtlqF8hY8Dn8AwMZP/fNTP8gAAAAJcEhZcwAALiMAAC4jAXilP3YAACZAaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjYtYzE0MCA3OS4xNjA0NTEsIDIwMTcvMDUvMDYtMDE6MDg6MjEgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczphdXg9Imh0dHA6Ly9ucy5hZG9iZS5jb20vZXhpZi8xLjAvYXV4LyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtbG5zOmNycz0iaHR0cDovL25zLmFkb2JlLmNvbS9jYW1lcmEtcmF3LXNldHRpbmdzLzEuMC8iIHhtbG5zOnRpZmY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vdGlmZi8xLjAvIiB4bWxuczpleGlmPSJodHRwOi8vbnMuYWRvYmUuY29tL2V4aWYvMS4wLyIgZGM6Zm9ybWF0PSJpbWFnZS9wbmciIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENhbWVyYSBSYXcgOC44IChNYWNpbnRvc2gpIiB4bXA6TW9kaWZ5RGF0ZT0iMjAxOC0wOC0xNFQyMTo1MTozNyswMTowMCIgeG1wOkNyZWF0ZURhdGU9IjIwMTItMDQtMDdUMTM6NDQ6NDIiIHhtcDpNZXRhZGF0YURhdGU9IjIwMTgtMDgtMTRUMjE6NTE6MzcrMDE6MDAiIGF1eDpMZW5zSW5mbz0iMTAwLzEgMTAwLzEgMjgvMTAgMjgvMTAiIGF1eDpMZW5zPSIxMDBtbSBGMi44IE1hY3JvIiBhdXg6TGVuc0lEPSIyOCIgcGhvdG9zaG9wOkRhdGVDcmVhdGVkPSIyMDEyLTA0LTA3VDEzOjQ0OjQyIiBwaG90b3Nob3A6TGVnYWN5SVBUQ0RpZ2VzdD0iMjhCNTI3NkM5MzZFRjM4RjAzRDg3ODI5MkRCOTI0NTgiIHBob3Rvc2hvcDpDb2xvck1vZGU9IjMiIHBob3Rvc2hvcDpJQ0NQcm9maWxlPSJBZG9iZSBSR0IgKDE5OTgpIiB4bXBNTTpEb2N1bWVudElEPSJhZG9iZTpkb2NpZDpwaG90b3Nob3A6YTdkZTM4Y2UtOTVmMC0yNzQ2LTljZWEtNTg1YWFhNjBlZDcxIiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9IjM0REI3NjQ4RTEzNzU1NTVGREQzMzU4NjAzMzNCOENDIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOmRkOGZkNTY0LTA0MTItNGE5Yy1iYzY3LTQ3NmM4NjcxMDQzOSIgY3JzOlJhd0ZpbGVOYW1lPSJEU0MwNDM0MC5BUlciIGNyczpWZXJzaW9uPSI4LjgiIGNyczpQcm9jZXNzVmVyc2lvbj0iNi43IiBjcnM6V2hpdGVCYWxhbmNlPSJDdXN0b20iIGNyczpBdXRvV2hpdGVWZXJzaW9uPSIxMzQzNDg4MDAiIGNyczpUZW1wZXJhdHVyZT0iNDkwMCIgY3JzOlRpbnQ9Iis5IiBjcnM6U2F0dXJhdGlvbj0iMCIgY3JzOlNoYXJwbmVzcz0iMjUiIGNyczpMdW1pbmFuY2VTbW9vdGhpbmc9IjAiIGNyczpDb2xvck5vaXNlUmVkdWN0aW9uPSIyNSIgY3JzOlZpZ25ldHRlQW1vdW50PSIwIiBjcnM6U2hhZG93VGludD0iMCIgY3JzOlJlZEh1ZT0iMCIgY3JzOlJlZFNhdHVyYXRpb249IjAiIGNyczpHcmVlbkh1ZT0iMCIgY3JzOkdyZWVuU2F0dXJhdGlvbj0iMCIgY3JzOkJsdWVIdWU9IjAiIGNyczpCbHVlU2F0dXJhdGlvbj0iMCIgY3JzOlZpYnJhbmNlPSIrMTIiIGNyczpIdWVBZGp1c3RtZW50UmVkPSIwIiBjcnM6SHVlQWRqdXN0bWVudE9yYW5nZT0iMCIgY3JzOkh1ZUFkanVzdG1lbnRZZWxsb3c9IjAiIGNyczpIdWVBZGp1c3RtZW50R3JlZW49IjAiIGNyczpIdWVBZGp1c3RtZW50QXF1YT0iMCIgY3JzOkh1ZUFkanVzdG1lbnRCbHVlPSIwIiBjcnM6SHVlQWRqdXN0bWVudFB1cnBsZT0iMCIgY3JzOkh1ZUFkanVzdG1lbnRNYWdlbnRhPSIwIiBjcnM6U2F0dXJhdGlvbkFkanVzdG1lbnRSZWQ9IjAiIGNyczpTYXR1cmF0aW9uQWRqdXN0bWVudE9yYW5nZT0iMCIgY3JzOlNhdHVyYXRpb25BZGp1c3RtZW50WWVsbG93PSIwIiBjcnM6U2F0dXJhdGlvbkFkanVzdG1lbnRHcmVlbj0iMCIgY3JzOlNhdHVyYXRpb25BZGp1c3RtZW50QXF1YT0iMCIgY3JzOlNhdHVyYXRpb25BZGp1c3RtZW50Qmx1ZT0iMCIgY3JzOlNhdHVyYXRpb25BZGp1c3RtZW50UHVycGxlPSIwIiBjcnM6U2F0dXJhdGlvbkFkanVzdG1lbnRNYWdlbnRhPSIwIiBjcnM6THVtaW5hbmNlQWRqdXN0bWVudFJlZD0iMCIgY3JzOkx1bWluYW5jZUFkanVzdG1lbnRPcmFuZ2U9IjAiIGNyczpMdW1pbmFuY2VBZGp1c3RtZW50WWVsbG93PSIwIiBjcnM6THVtaW5hbmNlQWRqdXN0bWVudEdyZWVuPSIwIiBjcnM6THVtaW5hbmNlQWRqdXN0bWVudEFxdWE9IjAiIGNyczpMdW1pbmFuY2VBZGp1c3RtZW50Qmx1ZT0iMCIgY3JzOkx1bWluYW5jZUFkanVzdG1lbnRQdXJwbGU9IjAiIGNyczpMdW1pbmFuY2VBZGp1c3RtZW50TWFnZW50YT0iMCIgY3JzOlNwbGl0VG9uaW5nU2hhZG93SHVlPSIwIiBjcnM6U3BsaXRUb25pbmdTaGFkb3dTYXR1cmF0aW9uPSIwIiBjcnM6U3BsaXRUb25pbmdIaWdobGlnaHRIdWU9IjAiIGNyczpTcGxpdFRvbmluZ0hpZ2hsaWdodFNhdHVyYXRpb249IjAiIGNyczpTcGxpdFRvbmluZ0JhbGFuY2U9IjAiIGNyczpQYXJhbWV0cmljU2hhZG93cz0iMCIgY3JzOlBhcmFtZXRyaWNEYXJrcz0iMCIgY3JzOlBhcmFtZXRyaWNMaWdodHM9IjAiIGNyczpQYXJhbWV0cmljSGlnaGxpZ2h0cz0iMCIgY3JzOlBhcmFtZXRyaWNTaGFkb3dTcGxpdD0iMjUiIGNyczpQYXJhbWV0cmljTWlkdG9uZVNwbGl0PSI1MCIgY3JzOlBhcmFtZXRyaWNIaWdobGlnaHRTcGxpdD0iNzUiIGNyczpTaGFycGVuUmFkaXVzPSIrMS4wIiBjcnM6U2hhcnBlbkRldGFpbD0iMjUiIGNyczpTaGFycGVuRWRnZU1hc2tpbmc9IjAiIGNyczpQb3N0Q3JvcFZpZ25ldHRlQW1vdW50PSIwIiBjcnM6R3JhaW5BbW91bnQ9IjAiIGNyczpDb2xvck5vaXNlUmVkdWN0aW9uRGV0YWlsPSI1MCIgY3JzOkNvbG9yTm9pc2VSZWR1Y3Rpb25TbW9vdGhuZXNzPSI1MCIgY3JzOkxlbnNQcm9maWxlRW5hYmxlPSIwIiBjcnM6TGVuc01hbnVhbERpc3RvcnRpb25BbW91bnQ9IjAiIGNyczpQZXJzcGVjdGl2ZVZlcnRpY2FsPSIwIiBjcnM6UGVyc3BlY3RpdmVIb3Jpem9udGFsPSIwIiBjcnM6UGVyc3BlY3RpdmVSb3RhdGU9IjAuMCIgY3JzOlBlcnNwZWN0aXZlU2NhbGU9IjEwMCIgY3JzOlBlcnNwZWN0aXZlQXNwZWN0PSIwIiBjcnM6UGVyc3BlY3RpdmVVcHJpZ2h0PSIwIiBjcnM6QXV0b0xhdGVyYWxDQT0iMCIgY3JzOkV4cG9zdXJlMjAxMj0iKzAuMTUiIGNyczpDb250cmFzdDIwMTI9IjAiIGNyczpIaWdobGlnaHRzMjAxMj0iLTEyIiBjcnM6U2hhZG93czIwMTI9IjAiIGNyczpXaGl0ZXMyMDEyPSIwIiBjcnM6QmxhY2tzMjAxMj0iMCIgY3JzOkNsYXJpdHkyMDEyPSIrMjYiIGNyczpEZWZyaW5nZVB1cnBsZUFtb3VudD0iMCIgY3JzOkRlZnJpbmdlUHVycGxlSHVlTG89IjMwIiBjcnM6RGVmcmluZ2VQdXJwbGVIdWVIaT0iNzAiIGNyczpEZWZyaW5nZUdyZWVuQW1vdW50PSIwIiBjcnM6RGVmcmluZ2VHcmVlbkh1ZUxvPSI0MCIgY3JzOkRlZnJpbmdlR3JlZW5IdWVIaT0iNjAiIGNyczpDb252ZXJ0VG9HcmF5c2NhbGU9IkZhbHNlIiBjcnM6VG9uZUN1cnZlTmFtZT0iTWVkaXVtIENvbnRyYXN0IiBjcnM6VG9uZUN1cnZlTmFtZTIwMTI9IkxpbmVhciIgY3JzOkNhbWVyYVByb2ZpbGU9IkFkb2JlIFN0YW5kYXJkIiBjcnM6Q2FtZXJhUHJvZmlsZURpZ2VzdD0iN0MzMkYwQTZBRDFDN0E1NEQ2Q0Y0MDVBMzhEMzVFRTIiIGNyczpMZW5zUHJvZmlsZVNldHVwPSJMZW5zRGVmYXVsdHMiIGNyczpIYXNTZXR0aW5ncz0iVHJ1ZSIgY3JzOkhhc0Nyb3A9IkZhbHNlIiBjcnM6QWxyZWFkeUFwcGxpZWQ9IlRydWUiIHRpZmY6SW1hZ2VXaWR0aD0iNjA0OCIgdGlmZjpJbWFnZUxlbmd0aD0iNDAzMiIgdGlmZjpQaG90b21ldHJpY0ludGVycHJldGF0aW9uPSIyIiB0aWZmOk9yaWVudGF0aW9uPSIxIiB0aWZmOlNhbXBsZXNQZXJQaXhlbD0iMyIgdGlmZjpYUmVzb2x1dGlvbj0iMzAwLzEiIHRpZmY6WVJlc29sdXRpb249IjMwMC8xIiB0aWZmOlJlc29sdXRpb25Vbml0PSIyIiB0aWZmOk1ha2U9IlNPTlkiIHRpZmY6TW9kZWw9IkRTTFItQTg1MCIgZXhpZjpFeGlmVmVyc2lvbj0iMDIzMCIgZXhpZjpDb2xvclNwYWNlPSI2NTUzNSIgZXhpZjpQaXhlbFhEaW1lbnNpb249IjYwNDgiIGV4aWY6UGl4ZWxZRGltZW5zaW9uPSI0MDMyIiBleGlmOkRhdGVUaW1lT3JpZ2luYWw9IjIwMTItMDQtMDdUMTM6NDQ6NDIiIGV4aWY6RXhwb3N1cmVUaW1lPSIxLzIwMCIgZXhpZjpGTnVtYmVyPSI0LzEiIGV4aWY6RXhwb3N1cmVQcm9ncmFtPSIzIiBleGlmOlNodXR0ZXJTcGVlZFZhbHVlPSI3NjQzODU2LzEwMDAwMDAiIGV4aWY6QXBlcnR1cmVWYWx1ZT0iNDAwMDAwMC8xMDAwMDAwIiBleGlmOkJyaWdodG5lc3NWYWx1ZT0iNDM3LzEwMCIgZXhpZjpFeHBvc3VyZUJpYXNWYWx1ZT0iMC8xMCIgZXhpZjpNYXhBcGVydHVyZVZhbHVlPSIzMDAvMTAwIiBleGlmOk1ldGVyaW5nTW9kZT0iNSIgZXhpZjpMaWdodFNvdXJjZT0iMCIgZXhpZjpGb2NhbExlbmd0aD0iMTAwMC8xMCIgZXhpZjpGb2NhbFBsYW5lWFJlc29sdXRpb249IjU1MjAzNTgzLzMyNzY4IiBleGlmOkZvY2FsUGxhbmVZUmVzb2x1dGlvbj0iNTUyMDM1ODMvMzI3NjgiIGV4aWY6Rm9jYWxQbGFuZVJlc29sdXRpb25Vbml0PSIzIiBleGlmOkZpbGVTb3VyY2U9IjMiIGV4aWY6U2NlbmVUeXBlPSIxIiBleGlmOkN1c3RvbVJlbmRlcmVkPSIwIiBleGlmOkV4cG9zdXJlTW9kZT0iMCIgZXhpZjpXaGl0ZUJhbGFuY2U9IjAiIGV4aWY6Rm9jYWxMZW5ndGhJbjM1bW1GaWxtPSIxMDAiIGV4aWY6U2NlbmVDYXB0dXJlVHlwZT0iMCIgZXhpZjpDb250cmFzdD0iMCIgZXhpZjpTYXR1cmF0aW9uPSIyIiBleGlmOlNoYXJwbmVzcz0iMiIgZXhpZjpMZW5zPSIxMDBtbSBGMi44IE1hY3JvIj4gPGRjOmRlc2NyaXB0aW9uPiA8cmRmOkFsdD4gPHJkZjpsaSB4bWw6bGFuZz0ieC1kZWZhdWx0Ij5UYWJieSBDYXQ8L3JkZjpsaT4gPC9yZGY6QWx0PiA8L2RjOmRlc2NyaXB0aW9uPiA8ZGM6Y3JlYXRvcj4gPHJkZjpTZXE+IDxyZGY6bGk+ZW5naW4gYWt5dXJ0PC9yZGY6bGk+IDwvcmRmOlNlcT4gPC9kYzpjcmVhdG9yPiA8ZGM6c3ViamVjdD4gPHJkZjpCYWc+IDxyZGY6bGk+Y2F0PC9yZGY6bGk+IDxyZGY6bGk+Y2F0czwvcmRmOmxpPiA8cmRmOmxpPmFuaW1hbDwvcmRmOmxpPiA8cmRmOmxpPmN1dGU8L3JkZjpsaT4gPHJkZjpsaT5wZXQ8L3JkZjpsaT4gPHJkZjpsaT5mdXI8L3JkZjpsaT4gPHJkZjpsaT5LaXR0ZW48L3JkZjpsaT4gPHJkZjpsaT5UYWJieTwvcmRmOmxpPiA8cmRmOmxpPkNsb3NlLXVwPC9yZGY6bGk+IDxyZGY6bGk+T3V0ZG9vcnM8L3JkZjpsaT4gPHJkZjpsaT5OYXR1cmU8L3JkZjpsaT4gPHJkZjpsaT5BbmltYWwgQmFja2dyb3VuZDwvcmRmOmxpPiA8cmRmOmxpPkFuaW1hbDwvcmRmOmxpPiA8cmRmOmxpPk1hbW1hbDwvcmRmOmxpPiA8cmRmOmxpPkZlbGluZTwvcmRmOmxpPiA8cmRmOmxpPkRvbWVzdGljIENhdDwvcmRmOmxpPiA8cmRmOmxpPk1peGVkLUJyZWVkIENhdDwvcmRmOmxpPiA8cmRmOmxpPkRvbWVzdGljIEFuaW1hbHM8L3JkZjpsaT4gPHJkZjpsaT5rZWRpPC9yZGY6bGk+IDxyZGY6bGk+VmVydGVicmF0ZTwvcmRmOmxpPiA8cmRmOmxpPlBvcnRyYWl0PC9yZGY6bGk+IDxyZGY6bGk+QW5pbWFsIFRoZW1lczwvcmRmOmxpPiA8cmRmOmxpPk5vIFBlb3BsZTwvcmRmOmxpPiA8cmRmOmxpPllvdW5nIEFuaW1hbDwvcmRmOmxpPiA8cmRmOmxpPlBldHM8L3JkZjpsaT4gPHJkZjpsaT5CZWF1dHkgSW4gTmF0dXJlPC9yZGY6bGk+IDxyZGY6bGk+T25lIEFuaW1hbDwvcmRmOmxpPiA8cmRmOmxpPlJlc3Rpbmc8L3JkZjpsaT4gPHJkZjpsaT5CZWF1dGlmdWw8L3JkZjpsaT4gPHJkZjpsaT5ub3NlPC9yZGY6bGk+IDxyZGY6bGk+ZXllczwvcmRmOmxpPiA8L3JkZjpCYWc+IDwvZGM6c3ViamVjdD4gPGRjOnRpdGxlPiA8cmRmOkFsdD4gPHJkZjpsaSB4bWw6bGFuZz0ieC1kZWZhdWx0Ij5uYXR1cmUgJmFtcDsgYW5pbWFsczwvcmRmOmxpPiA8L3JkZjpBbHQ+IDwvZGM6dGl0bGU+IDxwaG90b3Nob3A6VGV4dExheWVycz4gPHJkZjpCYWc+IDxyZGY6bGkgcGhvdG9zaG9wOkxheWVyTmFtZT0iTGF5ZXIgMSIgcGhvdG9zaG9wOkxheWVyVGV4dD0iIi8+IDxyZGY6bGkgcGhvdG9zaG9wOkxheWVyTmFtZT0iSW1hZ2UgRXJyb3IiIHBob3Rvc2hvcDpMYXllclRleHQ9IkltYWdlIEVycm9yIi8+IDwvcmRmOkJhZz4gPC9waG90b3Nob3A6VGV4dExheWVycz4gPHhtcE1NOkhpc3Rvcnk+IDxyZGY6U2VxPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0iZGVyaXZlZCIgc3RFdnQ6cGFyYW1ldGVycz0iY29udmVydGVkIGZyb20gaW1hZ2UveC1zb255LWFydyB0byBpbWFnZS9qcGVnLCBzYXZlZCB0byBuZXcgbG9jYXRpb24iLz4gPHJkZjpsaSBzdEV2dDphY3Rpb249InNhdmVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOjhiODM4YWE5LWI3NzQtNDBkYS1hYTJkLWI2MzkxMmFhODU0NiIgc3RFdnQ6d2hlbj0iMjAxNi0wMi0xNlQxMzo1MDozOCswMjowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIENhbWVyYSBSYXcgOC44IChNYWNpbnRvc2gpIiBzdEV2dDpjaGFuZ2VkPSIvIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJzYXZlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDpGOTdGMTE3NDA3MjA2ODExODIyQUQ0RjQxRjI4N0YzQyIgc3RFdnQ6d2hlbj0iMjAxNi0wMi0xNlQxNToyMTo1MSswMjowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSIgc3RFdnQ6Y2hhbmdlZD0iLyIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6MDg4MDExNzQwNzIwNjgxMTgwODM4RDA3NTQ4OTNFODkiIHN0RXZ0OndoZW49IjIwMTYtMDItMThUMTM6NDI6MDcrMDI6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDYW1lcmEgUmF3IDguOCIgc3RFdnQ6Y2hhbmdlZD0iL21ldGFkYXRhIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJzYXZlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDpiZGRmYTA3Zi0wMWVlLTQ2MTQtOGU5OC1kZjNkYWNjOTM1MmUiIHN0RXZ0OndoZW49IjIwMTYtMDItMThUMTM6NTA6MDErMDI6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDYW1lcmEgUmF3IDguOCAoTWFjaW50b3NoKSIgc3RFdnQ6Y2hhbmdlZD0iL21ldGFkYXRhIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJzYXZlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDo3ODY1OGE3Zi0yMWZhLTQ1OWItYTMwYS0wYjg3YTVkZGJiZWUiIHN0RXZ0OndoZW49IjIwMTgtMDgtMTRUMjE6NTE6MzcrMDE6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE4IChNYWNpbnRvc2gpIiBzdEV2dDpjaGFuZ2VkPSIvIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJjb252ZXJ0ZWQiIHN0RXZ0OnBhcmFtZXRlcnM9ImZyb20gaW1hZ2UvanBlZyB0byBpbWFnZS9wbmciLz4gPHJkZjpsaSBzdEV2dDphY3Rpb249ImRlcml2ZWQiIHN0RXZ0OnBhcmFtZXRlcnM9ImNvbnZlcnRlZCBmcm9tIGltYWdlL2pwZWcgdG8gaW1hZ2UvcG5nIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJzYXZlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDpkZDhmZDU2NC0wNDEyLTRhOWMtYmM2Ny00NzZjODY3MTA0MzkiIHN0RXZ0OndoZW49IjIwMTgtMDgtMTRUMjE6NTE6MzcrMDE6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE4IChNYWNpbnRvc2gpIiBzdEV2dDpjaGFuZ2VkPSIvIi8+IDwvcmRmOlNlcT4gPC94bXBNTTpIaXN0b3J5PiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo3ODY1OGE3Zi0yMWZhLTQ1OWItYTMwYS0wYjg3YTVkZGJiZWUiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6OGI4MzhhYTktYjc3NC00MGRhLWFhMmQtYjYzOTEyYWE4NTQ2IiBzdFJlZjpvcmlnaW5hbERvY3VtZW50SUQ9IjM0REI3NjQ4RTEzNzU1NTVGREQzMzU4NjAzMzNCOENDIi8+IDxjcnM6VG9uZUN1cnZlPiA8cmRmOlNlcT4gPHJkZjpsaT4wLCAwPC9yZGY6bGk+IDxyZGY6bGk+MzIsIDIyPC9yZGY6bGk+IDxyZGY6bGk+NjQsIDU2PC9yZGY6bGk+IDxyZGY6bGk+MTI4LCAxMjg8L3JkZjpsaT4gPHJkZjpsaT4xOTIsIDE5NjwvcmRmOmxpPiA8cmRmOmxpPjI1NSwgMjU1PC9yZGY6bGk+IDwvcmRmOlNlcT4gPC9jcnM6VG9uZUN1cnZlPiA8Y3JzOlRvbmVDdXJ2ZVJlZD4gPHJkZjpTZXE+IDxyZGY6bGk+MCwgMDwvcmRmOmxpPiA8cmRmOmxpPjI1NSwgMjU1PC9yZGY6bGk+IDwvcmRmOlNlcT4gPC9jcnM6VG9uZUN1cnZlUmVkPiA8Y3JzOlRvbmVDdXJ2ZUdyZWVuPiA8cmRmOlNlcT4gPHJkZjpsaT4wLCAwPC9yZGY6bGk+IDxyZGY6bGk+MjU1LCAyNTU8L3JkZjpsaT4gPC9yZGY6U2VxPiA8L2NyczpUb25lQ3VydmVHcmVlbj4gPGNyczpUb25lQ3VydmVCbHVlPiA8cmRmOlNlcT4gPHJkZjpsaT4wLCAwPC9yZGY6bGk+IDxyZGY6bGk+MjU1LCAyNTU8L3JkZjpsaT4gPC9yZGY6U2VxPiA8L2NyczpUb25lQ3VydmVCbHVlPiA8Y3JzOlRvbmVDdXJ2ZVBWMjAxMj4gPHJkZjpTZXE+IDxyZGY6bGk+MCwgMDwvcmRmOmxpPiA8cmRmOmxpPjI1NSwgMjU1PC9yZGY6bGk+IDwvcmRmOlNlcT4gPC9jcnM6VG9uZUN1cnZlUFYyMDEyPiA8Y3JzOlRvbmVDdXJ2ZVBWMjAxMlJlZD4gPHJkZjpTZXE+IDxyZGY6bGk+MCwgMDwvcmRmOmxpPiA8cmRmOmxpPjI1NSwgMjU1PC9yZGY6bGk+IDwvcmRmOlNlcT4gPC9jcnM6VG9uZUN1cnZlUFYyMDEyUmVkPiA8Y3JzOlRvbmVDdXJ2ZVBWMjAxMkdyZWVuPiA8cmRmOlNlcT4gPHJkZjpsaT4wLCAwPC9yZGY6bGk+IDxyZGY6bGk+MjU1LCAyNTU8L3JkZjpsaT4gPC9yZGY6U2VxPiA8L2NyczpUb25lQ3VydmVQVjIwMTJHcmVlbj4gPGNyczpUb25lQ3VydmVQVjIwMTJCbHVlPiA8cmRmOlNlcT4gPHJkZjpsaT4wLCAwPC9yZGY6bGk+IDxyZGY6bGk+MjU1LCAyNTU8L3JkZjpsaT4gPC9yZGY6U2VxPiA8L2NyczpUb25lQ3VydmVQVjIwMTJCbHVlPiA8dGlmZjpCaXRzUGVyU2FtcGxlPiA8cmRmOlNlcT4gPHJkZjpsaT44PC9yZGY6bGk+IDxyZGY6bGk+ODwvcmRmOmxpPiA8cmRmOmxpPjg8L3JkZjpsaT4gPC9yZGY6U2VxPiA8L3RpZmY6Qml0c1BlclNhbXBsZT4gPGV4aWY6SVNPU3BlZWRSYXRpbmdzPiA8cmRmOlNlcT4gPHJkZjpsaT40MDA8L3JkZjpsaT4gPC9yZGY6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Tfp66t/+9rdczpORrq6u5Nb/qlWrJl1+0aJFMzwRTImmMrsdPHiwtra2sbExWb6MvPrqq8ndhvv379+9e3fqOZtaWlrq6+uTH/7sZz8bu4a7d+9O4/sydXrJLKKpzFYDAwM//vGPp5fSVKnvtzl06NC2bduSm5WpJ5Q4cODAuFdxWbx4cZYDkF7qngDIc3OiHgCm6Q9/+EPqexObm5u/853vjN03u2PHjjS7fwcGBn79619P+r2am5snOl40dSuqs7NzooOHyUjq3fjZZ59NunxqdxcsWDAjM8EU2E5lVhoYGEhuocZisc7Ozp07d06jZ++++26iuE1NTWfPnh114qTGxsbm5ub+/v6JglpUVLRixYrk7VHvsiUbyfeVjjofyLjef//9xI3GxsYs338F2dBUZqXU59k333xzeluHAwMD77zzTuL2rl27Nm7cOOqK63/605927tyZ/jk69VjfM2fOTGMMxrV58+bEjebm5o6OjjRLdnV1Jf8YSh4ADJHQVGa9NMewnDt37tatWxN9tb29PXlw6bTfwLN27drky67vvPPORG/kIFOpb/ZNnlVjXKkHbGsq0dJUZqXU18xSz9mbNDAwcPDgwU2bNk3xtDj/+te/pj1M8njg8+fPv/XWW7IaxNatW5O7f/fv3z/RZWdSr2KU/jxWkAOayqyUetLBQ4cO7du3L1myxMWrFyxYMOkhwanvk3nttddaWlomvfj5uFLfkNPc3FxbW3vkyJGx13Q7duxYS0vLvn37ktdjJ71f/epXyduNjY2j3unU2tq6e/fu1PP07t69O9cjwijOoU9GMr3O6Kgz1090nZk0159Jfn7UOfSnMkksFks+5457DoTU8+On0dDQ0NzcnOb8+J2dnWOvfzLF+ySsqY9RNPE1D8KeiD+blaS/zHtSLBab6NEJMgZMxDn0eULs3LkzfRH37t3797///fXXX0+zzK5du1KvajKR48ePNzY21tfX79u3b9wFli9f/t57701lVWTk1VdfPXXqVHKfxLgSD7S9vuQD709lFtu1a9f27ds/+uij1JMzNDQ0/PznP3/xxRen8iTb2tqa+p6cN9988xe/+EWa5ffv37948eI9e/aM/VJlZeWePXveeOONkydPtrW1JV/kSzp8+PCiRYtWrFiRvOoOU7F169a2trZjx45dv3499dHJ6IGG3Cju6elJ/Th5SnF44rW2tm7bti1xu6mp6be//e24b5sZGBh49913U5/NndsBSOjt7U390L5fCtehQ4cSN2Kx2ERBLSoqqqys3LVr16irl+diPmC20VQK1MDAQPIop+985ztOvgNkT1Oh6NKlSwMDA2kW6OjoSJ5xKRaLpb4JByCp9Je//GXqx+Xl5VGNArlUVlZ26dKltra2oqKiy5cvnzlzZt68eeXl5U899VTqYseOHTt58uSOHTu6u7sTn/nd7373/PPPRzAxkH8GBwdTP3SMEoXr3LlzmzZtyuifHDhwYNyDfoHC5Bgl+F8bN248e/bsFE+S0NDQcPToUUEF0rCdCkXnzp27ePHiuG8qbWpq2rZt27p16zZu3BjJbEA+G7WdqqkAME32/QLAjNBUAAhDUwEgDE0FgDA0FQDC0FQACENTASAMTQWAMDQVAMLQVAAIQ1MBIAxNBYAwNBUAwtBUAAhDUwEgDE0FgDA0FQDC0FQACENTASAMTQWAMDQVAMLQVAAIQ1MBIAxNBYAwNBUAwtBUAAhDUwEgDE0FgDA0FQDC0FQACENTASAMTQWAMDQVAMLQVAAIQ1MBIAxNBYAwNBUAwtBUAAhDUwEgDE0FgDA0FQDC0FQACENTASAMTQWAMDQVAMLQVAAIQ1MBIAxNBYAwNBUAwtBUAAhDUwEgDE0FgDA0FQDC0FQACENTASAMTQWAMDQVAMLQVAAIQ1MBIAxNBYAwNBUAwtBUAAhDUwEgDE0FgDA0FQDC0FQACENTASAMTQWAMDQVAMLQVAAIQ1MBIAxNBYAwNBUAwtBUAAhDUwEgDE0FgDA0FQDC0FQACENTASAMTQWAMDQVAMLQVAAIQ1MBIAxNBYAwNBUAwtBUAAhDUwEgDE0FgDA0FQDC0FQACENTASAMTQWAMDQVAMLQVAAIQ1MBIAxNBYAwNBUAwtBUAAhDUwEgjDmjPu7t7Y1kDgCY7WynAkAYmgoAYWgqAITx/wCJUGMmjrHNhgAAAABJRU5ErkJggg==";
      data = {"image": test}
    }else{
      data = {"image": data}
    } 

    io.sockets.emit('devicePhotoRecieved', JSON.stringify(data));
  });

  socket.on('getServerAddress', function(data){
    require('dns').lookup(require('os').hostname(), function (err, add, fam) {
      console.log("Server Address: " + add + "\tPort: " + serverPort);
      socket.emit("serverAddress", "Server Address: <b>" + add + "</b>\tPort: <b>" + serverPort + "</b>");
    })
  });

});
